11 基准测试与pgbench

    基准测试: 性能基准线
    测试纬度: 压力 性能 最大负载量 综合测试
    pgbench: postgres内置的测试工具

    11.1 关于基准测试

    环境的关键影响因素:
        硬件: 服务器配置 CPU 内存 才能出
        网络: 带宽
        负载: 用户数 数据量
        软件: 操作系统 应用场景

        关系型数据库管理系统的水平扩展:
            增加缓存层 分库分表 读写分离

        数据库系统基准测试 与 无状态系统测试 不同点:
            数据库数据量 请求量 并发量 数据及爱你的关系都在变化 还可能有功能特性的变化 新功能的影响
            导致容量规划只能大概评估 不能准确预测

    11.1.3 基准测试的原则:
        明确测试目标 每个测试尽量目标单一 测试方法简单
        e.g.新增了索引 需要测试索引对性能的影响 查看前后的响应时间和吞吐量变化

    11.2 使用pgbench测试